<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 3 页 | nightwatch</title>
  <meta name="author" content="zhengdehua">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="nightwatch"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/cerulean.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">nightwatch</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="所有的存档">
			  <i class="fa fa-archive"></i>存档
			</a>
		  </li>
		  
		  <li>
			<a href="/categories"" title="所有的分类">
			  <i class="fa fa-folder"></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="全部标签">
			  <i class="fa fa-tags"></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="个人信息">
			  <i class="fa fa-user"></i>关于我
			</a>
		  </li>
		  
		  <li>
			<a href="/focussites" title="收集有价值站点">
			  <i class="fa fa-external-link-square"></i>关注站点
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">Winter is coming</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      And so my watch begins
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2016-06-14 </div>
			<div class="article-title"><a href="/2016/06/14/mysql-common/" >mysql 常用命令</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h4 id="更改用户密码"><a href="#更改用户密码" class="headerlink" title="更改用户密码"></a>更改用户密码</h4><ul>
<li><p>通过 mysqladmin 命令<br><code>mysqladmin -u user  -p password PASSWORD        (PASSWORD 为新密码)</code></p>
</li>
<li><p>update user 语句, 这种方式必须先用 root 账户登入 mysql, 然后执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update user set password=PASSWORD(&apos;123&apos;) where user=&apos;root&apos;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
</li>
<li><p>set password 语句, 这种方式必须先用 root 账户登入 mysql, 然后执行<br><code>SET PASSWORD  FOR root=PASSWORD(&#39;123&#39;);</code></p>
</li>
</ul>
<h4 id="字符设定"><a href="#字符设定" class="headerlink" title="字符设定"></a>字符设定</h4><ul>
<li>解决 mysql 查询字段不区分大小写问题，可以在创建数据库时指定字符集。<br><code>create database narcissus character set utf8 collate utf8_bin;</code></li>
</ul>
<h4 id="导入、导出数据"><a href="#导入、导出数据" class="headerlink" title="导入、导出数据"></a>导入、导出数据</h4><ul>
<li><p>把需要执行的 sql 放在 sql 文件里，通过 &lt; 执行。<br><code>mysql -h host -u user -p password dbname &lt; batch.sql</code></p>
</li>
<li><p>直接执行 sql 语句。<br><code>mysql -h host -u user -p password dbname -e &quot;insert into user(id, name) values(99, &#39;andy&#39;);&quot;</code></p>
</li>
<li><p>mysql 导出结构不导出数据<br><code>mysqldump --opt -d 数据库名 -u root -p &gt; xxx.sql</code></p>
</li>
<li><p>mysql 导出数据不导出结构<br><code>mysqldump -c -t 数据库名 -uroot -p &gt; xxx.sql    (-c 表示 insert 语句中包括列名)</code></p>
</li>
<li><p>mysql 导出结构和表数据<br><code>mysqldump 数据库名 -uroot -p &gt; xxx.sql</code></p>
</li>
<li><p>mysql 导出特定表结构<br><code>mysqldump -uroot -p -B 数据库名 --table 表名 &gt; xxx.sql</code></p>
</li>
</ul>
<h4 id="查看事务锁"><a href="#查看事务锁" class="headerlink" title="查看事务锁"></a>查看事务锁</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">use information_schema;</span><br><span class="line">select * from innodb_trx;</span><br><span class="line">select * from innodb_locks;</span><br><span class="line">select * from innodb_lock_waits;</span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/2016/06/14/mysql-common/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2016-06-14 </div>
			<div class="article-title"><a href="/2016/06/14/regexp-single-multi-line/" >正则表达式的单行与多行模式</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>引用 <a href="http://blog.csdn.net/zm2714/article/details/7925264" target="_blank" rel="external">大头爸爸的博客</a></p>
</blockquote>
<h4 id="在Expresso中，测试“多行模式”"><a href="#在Expresso中，测试“多行模式”" class="headerlink" title="在Expresso中，测试“多行模式”"></a>在Expresso中，测试“多行模式”</h4><h4 id="测试一"><a href="#测试一" class="headerlink" title="测试一"></a>测试一</h4><p><img src="/resources/image/png/1346309684_9606.png" alt=""></p>
<p><span class="text-danger"><br>    注意：这里样例文本中3eeeee后面没有回车，光标就在e的后面。匹配的结果是3eeeee，如上图的Search Results区中所示。<br>为什么这里不能匹配1abcde和2abc？<br></span></p>
<p><strong>开启多行模式</strong><br>^　可以匹配字符串开头（字符串的开始位置），也可以匹配行的开头（即换行符\n之后的位置）<br>$　可以匹配字符串结尾（字符串的结束位置）, 也可以匹配行的结尾（即换行符\n之前的位置）<br><strong>关闭多行模式</strong><br>^　只能匹配字符串开头<br>$　只能匹配字符串结尾</p>
<p><span class="text-primary"><br>    知识点：\r为回车符，\n 为换行符。在windows中，我们平常说的换行，实质上是先回车，后换行；下面有更详细解说<br></span></p>
<p><img src="/resources/image/png/1346309759_9281.png" alt=""></p>
<p>如上图所示：\r 匹配 [CR]、\n 匹配[LF]   &lt;——  CR为回车  LF为换行<br>字符串多个段落，比如<br>ab<br>cd<br>e<br>在windows操作系统中其实是：ab[CR][LF]cd[CR][LF]e<br>在windows中，文本中的回车换行储存为： 0D 0A。也就是说，先储存的是“回车\r” <code>&lt;CR&gt;</code>，再储存的是“换行\n” <code>&lt;LF&gt;</code><br>CR用符号’\r’表示, ASCII代码是13, 十六进制为0x0D;<br>LF用符号’\n’表示, ASCII代码是10, 十六进制为0x0A;<br>正则表达式：(?m)^(\d\w+)(\s*)$</p>
<p>样例文本<br><img src="/resources/image/jpg/1346309867_1092.jpg" alt=""></p>
<p>匹配结果<br><img src="/resources/image/jpg/1346309891_5562.jpg" alt=""></p>
<p><span class="text-info"><br>    在Expresso、PHP中，启用多行模式，”$” 匹配字符串结束位置或者 “\n” 之前的位置。<br></span></p>
<blockquote>
<p>单行模式<br>开启单行模式：　.　可以匹配任意字符(包括换行符)<br>关闭单行模式：　.　只有匹配 非换行 的其它任意字符（.可匹配\r，即除了不匹配\n外的所有字符。）<br>多行模式 影响 ^ 和 $ 的匹配<br>单行模式 影响 . 的匹配<br>多行模式中必定包含 ^ 或 $ 或同时包含，否则即使加了 m，也没有任何意义<br>单行模式和多行模式是八杆子打不着的两个概念，只是因为正则发展的历史原因，造就了这样两个MS互斥的概念<br>单行模式影响的是小数点“.”的匹配范围<br>多行模式影响的是“^”和“$”的匹配范围<br>至于后面几个概念，全局匹配，多行模式和贪婪模式之间也没有什么必然联系<br>全局匹配关闭，只匹配首次成功匹配项，全局匹配开启，匹配所有成功匹配项<br>全局模式是一些脚本语言中才有的概念<br>在进行匹配时，关闭全局模式，类似于.NET中的Match方法，开启全局模式，类似于.NET中的Matches方法<br>在进行替换时，关闭全局模式，类似于Java中的replaceFirst，开启全局模式，类似于Java中的replaceAll<br>（在进行匹配时，关闭全局模式，类似于PHP中的preg<em> match函数；开启全局模式，类似于PHP中的preg</em> match_ all函数）</p>
</blockquote>

	
	</div>
  <a type="button" href="/2016/06/14/regexp-single-multi-line/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2016-06-14 </div>
			<div class="article-title"><a href="/2016/06/14/hibernate-pk-increment/" title="hibernate 对表的主键维护提供了若干策略，开发人员可以根据系统实际需要选择适合的策略。">hibernate 主键增加方式</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>引用 <a href="http://www.cnblogs.com/zhanghaoh/archive/2013/03/13/2957234.html" target="_blank" rel="external">菜鸟的春天</a></p>
</blockquote>
<p class="bg-primary">1.assigned:</p>

<p>主键由外部程序负责生成，无需Hibernate参与。—-如果要由程序代码来指定主键,就采有这种.</p>
<p class="bg-primary">2.increment:</p>

<p>对 long ， short 或 int 的数据列生成自动增长主键。increment主键生成方式的特点是与底层数据库无关性，大部分数据库如 Mysql，MSSQL 和ORACLE等都支持increament生成方式。此方式的实现机制为在当前应用实例中维持一个变量，以保存着当前的最大值，之后每次需要生成主键的 时候将此值加1作为主键。increment方式的不足之处是当多个线程并发对数据库表进行写操作时，可能出现相同的主键值，发生主键重复的冲突，因此多线程并发操作时，不应该使用此方法。</p>
<p class="bg-primary">3.identity:</p>

<p>如果数据列的类型是 long， short 或 int ，可使用主键生成器生成自动增长Hibernate主键。与底层数据库有关，要求数据库支持identify,如MySQL中是auto_increment,SQL Server中是Identify.支持的数据库有MySQL,SQL Server,DB2,Sybase和HypersonicSQL.(好像不支持oracle) 无需Hibernate和用户的干涉，使用较为方便，但不便于在不同的数据库之间移植程序。identity的优点是不会发生 increment方式的并发错做问题。数据库涉及到的表要设置自动增长。</p>
<p class="bg-primary">4.sequence:</p>

<p>在ORACLE等数据库中使用sequence生成主键。sequence的特点是于数据库的相关性，seqhio要求底层能支持sequence，列如Oracle。</p>
<p class="bg-primary">5.hilo:</p>

<p>通过hi/lo 算法生成主键，需要一个表来保存额外的主键信息。这样生成的标识符只在特定的数据库是唯一的，在使用JTA（Java分布式事务） 获得链接或用户自定义提供的链接中，不要使用这种生成器。hilo方式需要维护表信息，因此对数据的影响的要率会造成一定影响。</p>
<p class="bg-primary">6.seqhio:</p>

<p>与hilo 类似，通过hi/lo 算法实现的主键生成机制，只是主键历史状态保存在Sequence中，适用于支持Sequence的数据库，如Oracle。如果数据列的类型是 long， short 或 int可使用该主键生成器。</p>
<p class="bg-primary">7.native:</p>

<p>由Hibernate根据不同的数据库方言，自行判断采用identity、hilo、sequence其中一种作为Hibernate主键生成方式，native的 优点是与底层性无关，便于不同数据库之间的移植，由Hibernate根据不同数据库选择主键的生成方式。在oracle中需要创建叫 Hibernate_sequence名字的sequence，如果设置了Hibernate.hbm2ddl.auto属性，不需要手动建立序列，前提 是数据库帐号必须有Create Sequence这种高级权限。mysql等数据库则不用建立sequence。</p>
<p class="bg-primary">8.uuid.hex:</p>

<p>采用基于128位的算法生成唯一值，并编制成32位长度的唯一字符串作为主键值，uuid.hex的优点是支持大部分数据库，缺点就是要占用较大的存储空间。对于并发Insert要求较高的系统，推荐采用uuid.hex 作为主键生成机制。</p>
<p class="bg-primary">9.uuid.string:</p>

<p>使用UUID算法，UUID被编码为一个16个字符长的任意ASCII字符组成的字符串。不能在PostgreSQL数据库中使用。uuid.string同uuid.hex类似，需要占很大的存储空间。</p>
<p class="bg-primary">10.foreign:</p>

<p>使用外部表的字段作为Hibernate主键。</p>
<p>一般而言，利用uuid.hex方式生成Hibernate主键将提供最好的性能和数据库平台适应性。<br>另外由于常用的数据库，如Oracle、DB2、 SQLServer、MySql 等，都提供了易用的主键生成机制（Auto-Increase 字段或者Sequence）。我们可以在数据库提供的主键生成机制上，采用generator-class=native的主键生成方式。不过值得注意的 是，一些数据库提供的主键生成机制在效率上未必最佳，大量并发insert数据时可能会引起表之间的互锁。数据库提供的主键生成机制，往往是通过在一个内 部表中保存当前主键状态（如对于自增型主键而言，此内部表中就维护着当前的最大值和递增量），之后每次插入数据会读取这个最大值，然后加上递增量作为新记 录的主键，之后再把这个新的最大值更新回内部表中，这样，一次Insert操作可能导致数据库内部多次表读写操作，同时伴随的还有数据的加锁解锁操作，这对性能产生了较大影响。因此，对于并发Insert要求较高的系统，推荐采用uuid.hex 作为主键生成机制。</p>

	
	</div>
  <a type="button" href="/2016/06/14/hibernate-pk-increment/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2016-06-13 </div>
			<div class="article-title"><a href="/2016/06/13/git-submodule/" >Git submodule 功能</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<h2 id="git-submodule-功能"><a href="#git-submodule-功能" class="headerlink" title="git submodule 功能"></a>git submodule 功能</h2><blockquote>
<p>引用 <a href="http://www.open-open.com/lib/view/open1396404725356.html" target="_blank" rel="external">open-open 网站</a><br>引用 <a href="http://www.kafeitu.me/git/2012/03/27/git-submodule.html" target="_blank" rel="external">咖啡兔个人站点</a></p>
</blockquote>
<h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h3><p>项目库在一些情况下需要引用其他版本库的文件，比如一些公用的代码，这些公用的代码需要独立的仓库来维护，可是其他项目引用的时候，如果只是各自拷贝公用的代码到自己的库，会造成代码的冗余，而且还会丢失公共代码库自己的维护历史。在这样的背景下，git submodule 的出现，很好解决了这个问题, git submodule 功能允许将一个仓库当作另一个仓库的子目录，这样保证了可以引用公用代码库，并且不影响自身代码库的提交。</p>
<h3 id="2-准备工作"><a href="#2-准备工作" class="headerlink" title="2. 准备工作"></a>2. 准备工作</h3><p>首先需要两个版本库例如：</p>
<p>1) 一个公共的版本库(例如：libA.git)</p>
<p>git@gitlab.szreach.com:fengyang/liba.git</p>
<p>2) 一个引用公共版本库的主版本库(例如：super.git)</p>
<p>git@gitlab.szreach.com:fengyang/super.git</p>
<h3 id="3-TortoiseGit上git-submodule功能实现"><a href="#3-TortoiseGit上git-submodule功能实现" class="headerlink" title="3. TortoiseGit上git submodule功能实现"></a>3. TortoiseGit上git submodule功能实现</h3><p><strong>1、添加子模组的步骤</strong></p>
<p>第一步：使用submodule add…添加子模组在需要作添加子模组的Git版本库中右击，选择“TortoiseGit-&gt;Submodule Add…”，在“Repository:”里面输入需要添加子模组的版本库路径，在“Path：”中输入添加子模组存放的目录路径。如下图所示：<br><img src="/resources/image/png/20140402101116_134.png" alt=""></p>
<p>此时查看需要添加子模组的Git工作区的目录结构。在根目录下多了一个.gitmodules文件，并且公共代码库被克隆到lib/lib_a目录下。<br><img src="/resources/image/png/20140402101116_320.png" alt=""></p>
<p>第二步：查看.gitmodules的内容 .gitmodules的内容记录着含子模组存放的目录路径及子模组版本库的路径<br><img src="/resources/image/png/20140402101116_721.png" alt=""></p>
<p class="text-danger"><br>    注：此时工作区尚未提交，完成提交后，子模组才算正式完成在需要作添加子模组的Git版本库中创立。<br>    注：此主版本库(super.git)就变成了一个包含子模组的版本库。<br></p>

<p><strong>2、克隆带子模组的版本库的步骤</strong></p>
<p>克隆带子模组的git库，并不能自动将子模组的版本库克隆出来，对于只关心项目本身的数据，而不关心项目引用的外部项目数据的用户，这个功能非常好，数据没有冗余而且克隆的速度也很快。</p>
<p>第一步：克隆super主版本库<br>在工作区中克隆主主版本库后，会发现子模组的版本库并没有克隆，只有将存放子模组版本库的目录克隆下来了。<br><img src="/resources/image/png/20140402101116_467.png" alt=""><br><img src="/resources/image/png/20160613112029.png" alt=""></p>
<p>第二步：克隆子模组<br>如果需要克隆出子模组形式引用的外部库，首先需要执行Submodule Update操作。<br>在需要作克隆子模组的Git工作区中右击，选择“TortoiseGit-&gt;Submodule Update…”,点击“OK”即可。<br><img src="/resources/image/png/20140402101117_552.png" alt=""></p>
<p>执行Submodule Update…操作后就会把子模组的版本库克隆下来。<br><img src="/resources/image/png/20140402101117_706.png" alt=""></p>
<p><strong>3、对主Git库工作区作commit、checkout、revert、pull、push等更改Git工作区内容的操作时，查看Submodule目录下内容的效果</strong></p>
<p>1) 对主Git库工作区作commit操作<br>当在主Git库工作区中变更到达一个适当状态时，我们需要将这些变更提交到Git库，作版本备份和跟踪。</p>
<p>方法：<br>在工作区内右击，选择“ Commit-&gt; “当前分支名称” ”，在Commit窗口中，选择需要提交的变更path，填写提交说明，点击“Ok”。<br><img src="/resources/image/png/20140402101117_115.png" alt=""></p>
<p class="text-info"><br>    结论：在主git工作区作commit操作，只是将主Git工作区的变更历史提交到主Git本地库中，对Submodule没有任何影响。<br></p>


<p>2) 对主Git库工作区作checkout操作<br>当在主Git库工作区中想要切换到其他某个分支、某个tag、某个commit历史记录。</p>
<p>我们这里举个特殊的例子：<br>切换到某个commit历史记录(如在主版本库中提交子版本库的历史记录)</p>
<p>方法：<br>在Git工作区内的某目录上右击，选择“Swicht/Checkout…”在Swicht/Checkout…Checkout窗口中，在Switch to Commmit中列出需要切换的commit历史记录，在此列表中选择需要切换到的commit历史记录，以后点击“Ok”按钮。<br><img src="/resources/image/png/20140402101118_126.png" alt=""><br><img src="/resources/image/png/20140402101119_32.png" alt=""><br><img src="/resources/image/png/20140402101119_562.png" alt=""></p>
<p class="text-danger"><br>    注：由于切换到的是在主版本库中提交子版本库的那条历史记录，因此子模组中状态也会改换，也需要在子模组中执行切换。<br></p>

<p>执行Submodule Update操作即可。<br><img src="/resources/image/png/20140402101119_63.png" alt=""></p>
<p>3) 对主Git库工作区作revert操作<br>当在主Git库工作区中这次变更有错误时，就可以使用revert操作来撤销这次次操作。</p>
<p>方法：<br>在工作区内右击，选择“Revert”，在Revert窗口中，选择需要撤销的变更path，点击“Ok”。<br><img src="/resources/image/png/20140402101120_416.png" alt=""><br><img src="/resources/image/png/20140402101120_387.png" alt=""></p>
<p class="text-info"><br>    结论：在主git工作区作revert操作，只是将主Git工作区某次的变更操作给撤销，此次操作之前的commit都会被保留，且对Submodule没有任何影响。<br></p>


<p>4) 对主Git库工作区作push操作<br>当在主Git库工作区中将主Git本地库的数据推送到主Git远程库中。</p>
<p>方法：在工作区的目录上（不要在文件上）右击，选择“Git Sync…”<br>“Local Branch”，”Remote Branch”，“Remote URL”这3栏必须正确才能“推”数据。<br><img src="/resources/image/png/20140402101120_503.png" alt=""></p>
<p class="text-info"><br>    结论：在主git工作区作push操作，只是将主Git本地库的变更历史推送到到主Git远程库中，对Submodule没有任何影响。<br></p>



<p>5) 对主Git库工作区作pull操作<br>当在主Git库工作区中将主Git远程库的拉取到主Git本地库中。</p>
<p>方法：在工作区的目录上（不要在文件上）右击，选择“Git Sync…”<br>“Local Branch”，”Remote Branch”，“Remote URL”这3栏必须正确才能“拉”数据。<br><img src="/resources/image/png/20140402101121_359.png" alt=""></p>
<p class="text-info"><br>    结论：在主git工作区作pull操作，只是将主Git远程库的变更历史拉取到到主Git本地库中，对Submodule没有任何影响。<br></p>


<p><strong>4、对submodule下的内容进行修改后commit、push，对submodule目录作pull</strong></p>
<p>在执行Submodule Update…操作更新出子模组后，都以某个具体的提交版本进行检出，进入子模组目录，会发现其处于非跟踪状态。<br><img src="/resources/image/png/20140402101121_322.png" alt=""></p>
<p>显然这种情况下，如果修改lib/lib_a下的文件，提交就会丢失。下面介绍如何在检查的子模组中修改，以及如何更新子模组。<br>在子模组中切换到master分支(或者其他想要修改的分支)后在进行修改。</p>
<ul>
<li>切换到master分支，然后在工作区做一些改动。<br><img src="/resources/image/png/20140402101122_701.png" alt=""></li>
</ul>
<ul>
<li>执行commit后，并且推送到子模组库中后。</li>
</ul>
<ul>
<li>回到主版本库中。<br>在主版本库中查看状态，在主版本库中可以看到子模组已修改，包含了更新的提交。</li>
</ul>
<ul>
<li>需要将修改提交在主版本库中进行推送。<br><img src="/resources/image/png/20140402101122_472.png" alt=""></li>
</ul>
<p>对submodule目录作pull<br>当子模组版本库中有新的提交历史记录，就需要做pull操作来更新。<br><img src="/resources/image/png/20140402101123_931.png" alt=""></p>
<p class="text-danger"><br>    注：对子模组库中做了pull操作，同时需要对调用子模组库的主版本库中也要做Pull操作。<br></p>


<p>如下图所示：<br><img src="/resources/image/png/20140402101123_45.png" alt=""></p>
<p></p><p class="text-danger"><br>    注意：进入子模组目录，会发现其处于非跟踪状态。显然这种情况下，如果修改lib/lib_a下的文件，提交就会丢失。提示如下：<br></p><br><img src="/resources/image/png/20140402101124_462.png" alt=""><p></p>
<p><strong>5、移除Submodule</strong></p>
<p>第一步：用Delete(keep local) 将目录或文件命令从git的索引库中移除子模块目录<br>方法：</p>
<p>在工作区内目录或文件上右击，选择“Delete(keep local)”，在Delete窗口中，点击“Remove”。<br>Delete(keep local)把目录lib/从git的索引库中移除,但是对目录lib/本身并不进行任何操作。<br>因此需要彻底删除。</p>
<p>第二步：删除物理文件<br>第三步：删除.gitmodule文件<br>第四步：删除.git/config的submodule配置源文件</p>
<p>删除如下图所示红框的部门<br><img src="/resources/image/png/20140402101124_204.png" alt=""></p>
<p>第五步：删除后，提交更改</p>

	
	</div>
  <a type="button" href="/2016/06/13/git-submodule/#more" class="btn btn-default more">阅读此文</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2016-06-13 </div>
			<div class="article-title"><a href="/2016/06/13/design-outline-detailed/" title="概要设计和详细设计是软件开发流程中将需求转化为软件实体的重要步骤，但是两者分工不同。">简谈软件概要设计和详细设计</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
	
	
		<blockquote>
<p>引用 <a href="http://blog.itpub.net/28257707/viewspace-748512/" target="_blank" rel="external">xushiqi1808的个人空间</a></p>
</blockquote>
<h3 id="概要设计与详细设计的区别"><a href="#概要设计与详细设计的区别" class="headerlink" title="概要设计与详细设计的区别"></a>概要设计与详细设计的区别</h3><p>概要设计就是设计软件的结构，包括组成模块，模块的层次结构，模块的调用关系，每个模块的功能等等。同时，还要设计该项目的应用系统的总体数据结构和数据库结构，即应用系统要存储什么数据，这些数据是什么样的结构，它们之间有什么关系。 </p>
<p>详细设计阶段就是为每个模块完成的功能进行具体的描述，要把功能描述转变为精确的、结构化的过程描述。<br>概要设计阶段通常得到软件结构图<br>详细设计阶段常用的描述方式有：流程图、N-S图、PAD图、伪代码等</p>
<h3 id="概要设计和详细设计"><a href="#概要设计和详细设计" class="headerlink" title="概要设计和详细设计"></a>概要设计和详细设计</h3><p>在软件设计中，大家经常问到的一个问题是：概要设计应该怎样一个概要法，详细设计应该怎样一个详细法？<br>这个问题在公司内部经常有人问。现在陈述一下。<br>我们公司的研发流程是瀑布型的，这个模型中的分析、设计阶段是基于经典的结构化方法。 </p>
<p>结构化设计方法的基本思路是：按照问题域，将软件逐级细化，分解为不必再分解的的模块，每个模块完成一定的功能，为一个或多个父模块服务（即接受调用），也接受一个或多个子模块的服务（即调用子模块）。模块的概念，和编程语言中的子程序或函数是对应的。</p>
<p><strong>这样一来，设计可以明显地划分成两个阶段：</strong> </p>
<p>概要（结构）设计阶段：把软件按照一定的原则分解为模块层次，赋予每个模块一定的任务，并确定模块间调用关系和接口。<br>详细设计阶段：依据概要设计阶段的分解，设计每个模块内的算法、流程等。</p>
<h3 id="概要设计阶段："><a href="#概要设计阶段：" class="headerlink" title="概要设计阶段："></a>概要设计阶段：</h3><p>在这个阶段，设计者会大致考虑并照顾模块的内部实现，但不过多纠缠于此。主要集中于划分模块、分配任务、定义调用关系。模块间的接口与传参在这个阶段要定得 十分细致明确，应编写严谨的数据字典，避免后续设计产生不解或误解。概要设计一般不是一次就能做到位，而是反复地进行结构调整。典型的调整是合并功能重复的模块，或者进一步分解出可以复用的模块。在概要设计阶段，应最大限度地提取可以重用的模块，建立合理的结构体系，节省后续环节的工作量。 </p>
<p>概要设计文档最重要的部分是分层数据流图、结构图、数据字典以及相应的文字说明等。以概要设计文档为依据，各个模块的详细设计就可以并行展开了。</p>
<h3 id="详细设计阶段"><a href="#详细设计阶段" class="headerlink" title="详细设计阶段:"></a>详细设计阶段:</h3><p>在这个阶段，各个模块可以分给不同的人去并行设计。在详细设计阶段，设计者的工作对象是一个模块，根据概要设计赋予的局部任务和对外接口，设计并表达出模块的算法、流程、状态转换等内容。这里要注意，如果发现有结构调整（如分解出子模块等）的必要，必须返回到概要设计阶段，将调整反应到概要设计文档中，而不 能就地解决，不打招呼。详细设计文档最重要的部分是模块的流程图、状态图、局部变量及相应的文字说明等。一个模块一篇详细设计文档。</p>
<p>概要设计文档相当于机械设计中的装配图，而详细设计文档相当于机械设计中的零件图。文档的编排、装订方式也可以参考机械图纸的方法。 </p>
<p>我们公司对模块的认识和传统定义有所不同，认为是较大的软件功能单元才可以称作模块。这种认识使大家对概要设计和详细设计的分工产生了混乱的理解，降低了文档的可用性，应该予以纠正。<br>概要设计中较顶层的部分便是所谓的方案。方案文档的作用是在宏观的角度上保持设计的合理性。</p>
<p>有的项目采用面向对象的分析、设计方法。可能在概要设计、详细设计的分工上疑问更多。其实，面向对象的分析、设计方法并没有强调结构化方法那样的阶段性，因此一般不引入概要、详细设计的概念。如果按照公司的文档体系，非要有这种分工的话，可以将包的划分、类及对象间的关系、类的对外属性、方法及协作设计看做 概要设计；类属性、方法的内部实现看做详细设计。</p>
<ol>
<li>需求分析–产生软件功能规格说明书,需要确定用户对软件的需求,要作到明确、无歧义。不涉及具体实现方法。用户能看得明白，开发人员也可据此进行下面的工作（概要设计）。 </li>
<li>概要设计–产生软件概要设计说明书，说明系统模块划分、选择的技术路线等，整体说明软件的实现思路。并且需要指出关键技术难点等。   </li>
<li>详细设计–产生软件详细设计说明书，对概要设计的进一步细化，一般由各部分的担当人员依据概要设计分别完成，然后在集成，是具体的实现细节。理论上要求可以照此编码。</li>
</ol>
<h3 id="概要设计和详细设计的区别与联系"><a href="#概要设计和详细设计的区别与联系" class="headerlink" title="概要设计和详细设计的区别与联系"></a>概要设计和详细设计的区别与联系</h3><p>软件设计采用自顶向下、逐次功能展开的设计方法，首先完成总体设计，然后完成各有机组成部分的设计。<br>根据工作性质和内容的不同，软件设计分为概要设计和详细设计。概要设计实现软件的总体设计、模块划分、用户界面设计、数据库设计等等；详细设计则根据概要设计所做的模块划分，实现各模块的算法设计，实现用户界面设计、数据结构设计的细化，等等。</p>
<p>概要设计是详细设计的基础，必须在详细设计之前完成，概要设计经复查确认后才可以开始详细设计。概要设计，必须完成概要设计文档，包括系统的总体设计文档、以及各个模块的概要设计文档。每个模块的设计文档都应该独立成册。</p>
<p>详细设计必须遵循概要设计来进行。详细设计方案的更改，不得影响到概要设计方案；如果需要更改概要设计，必须经过项目经理的同意。详细设计，应该完成详细设计文档，主要是模块的详细设计方案说明。和概要设计一样，每个模块的详细设计文档都应该独立成册。</p>
<p>概要设计里面的数据库设计应该重点在描述数据关系上，说明数据的来龙去脉，在这里应该结合我们的一下结果数据，说明这些结果数据的源点，我们这样设计的目的和原因。详细设计里的数据库设计就应该是一份完善的数据结构文档，就是一个包括类型、命名、精度、字段说明、表说明等内容的数据字典。</p>
<p>概要设计里的功能应该是重点在功能描述，对需求的解释和整合，整体划分功能模块，并对各功能模块进行详细的图文描述，应该让读者大致了解系统作完后大体的结构和操作模式。详细设计则是重点在描述系统的实现方式，各模块详细说明实现功能所需的类及具体的方法函数，包括涉及到的sql语句等。</p>
<h3 id="概要设计，详细设计之间的关系是什么？"><a href="#概要设计，详细设计之间的关系是什么？" class="headerlink" title="概要设计，详细设计之间的关系是什么？"></a>概要设计，详细设计之间的关系是什么？</h3><p>Q:<br>我的看法：<br>    概要设计只说明系统有多少个模块，各模块之间的接口和个模块本身的功能<br>    详细设计说明某个具体模块如何实现，粒度应该比程序略高一些<br>    但是问题来了，各个模块之间是有层次关系的，也有先后逻辑关系。这就说明，在概要设计中，还必须考虑模块的实现细节，否则，你怎么知道这个模块下面要划分子模块？你怎么知道各子模块的调用顺序？<br>    这就说明，概要设计和详细设计是重叠进行的，而软件工程书上说的确是顺序进行的，不知道是不是我的理解有问题。</p>
<p>举个例子，例如排序程序，如果设计2个模块：<br>一个主模块用于排序子模块用于交换2个变量，主模块调用子模块，但是子模块是怎么设计出来的呢？肯定是你先想到了用冒泡等排序方式的时候需要交换数据，这已经考虑了主模块足够多的细节，似乎属于”详细设计”了，但是目前进行的是概要设计，这就产生了我所说的重叠的情况。<br>A:<br>看看上面的帖子，有意思的居多。<br>上面也有朋友说到用建筑的例子来比喻。<br>软件的概要设计，主要是建立软件系统的整体架构，也就是我们在盖房子时候，需要先将房子的整个架子构建起来。<br>软件的详细设计，主要是将软件系统的各个部分的具体设计方法、逻辑、功能采用文字方式进行表述。这样在实现过程中，Coding人员原则上严格按此进行代码实现即可。<br>这样的一个最为简单的例证：我们可以将代码交付第三方来做。验证与跟踪采取设计来。<br>我看上面还有一个朋友说：快速做代码。这个本身没有值得批评之处。但只要想一下，你写的代码没有任何设计思想、文档留下的情况，一旦你离开，如何维护？重新设计吗？还是花费几倍人力去研究你写的几千/万，甚至几十万行代码？如果是这样的，你没错，关键是你们老板太对了，钱算什么。<br>另外的一个问题是：中国人如此聪明，但中国为什么没有出现巨型软件产品呢？个人英雄主义依然很严重，老板的短视利益行为大行其道。</p>

	
	</div>
  <a type="button" href="/2016/06/13/design-outline-detailed/#more" class="btn btn-default more">阅读此文</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/2/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/4/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>分类</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/English/">English<span>2</span></a></li>
		
			<li><a href="/categories/Technology/">Technology<span>20</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/Design/">Design<span>3</span></a></li>
		
			<li><a href="/tags/English/">English<span>2</span></a></li>
		
			<li><a href="/tags/cite/">cite<span>13</span></a></li>
		
			<li><a href="/tags/堆栈/">堆栈<span>1</span></a></li>
		
			<li><a href="/tags/database/">database<span>1</span></a></li>
		
			<li><a href="/tags/VCS/">VCS<span>2</span></a></li>
		
			<li><a href="/tags/mysql/">mysql<span>2</span></a></li>
		
			<li><a href="/tags/svn/">svn<span>1</span></a></li>
		
			<li><a href="/tags/java/">java<span>4</span></a></li>
		
			<li><a href="/tags/tomcat/">tomcat<span>1</span></a></li>
		
			<li><a href="/tags/高考/">高考<span>1</span></a></li>
		
			<li><a href="/tags/jvm/">jvm<span>1</span></a></li>
		
			<li><a href="/tags/Requirements/">Requirements<span>3</span></a></li>
		
			<li><a href="/tags/regexp/">regexp<span>4</span></a></li>
		
			<li><a href="/tags/interview/">interview<span>4</span></a></li>
		
			<li><a href="/tags/spring/">spring<span>1</span></a></li>
		
			<li><a href="/tags/servlet/">servlet<span>1</span></a></li>
		
			<li><a href="/tags/Git/">Git<span>2</span></a></li>
		
			<li><a href="/tags/j2ee/">j2ee<span>1</span></a></li>
		
			<li><a href="/tags/transaction/">transaction<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>22</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2016/06/16/web-xml-configuration/" ><i class="fa fa-file-o"></i>web.xml配置详解</a>
      </li>
    
      <li>
        <a href="/2016/06/15/regexp-common/" ><i class="fa fa-file-o"></i>常用正则表达式</a>
      </li>
    
      <li>
        <a href="/2016/06/15/regexp-essential/" ><i class="fa fa-file-o"></i>正则表达式入门</a>
      </li>
    
      <li>
        <a href="/2016/06/15/regexp-grammer/" ><i class="fa fa-file-o"></i>正则表达式语法简明参考</a>
      </li>
    
      <li>
        <a href="/2016/06/15/svn-clean-failed-exception/" ><i class="fa fa-file-o"></i>SVN clean失败解决方法</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-linkedin"></i><a href="https://www.linkedin.com/in/%E5%BE%B7%E5%8D%8E-%E9%83%91-8a4601120" title="我的LinkedIn" target="_blank"]);">我的 LinkedIn</a></li>
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/zhengdehua" title="我的GitHub" target="_blank"]);">我的 GitHub</a></li>
	
		<li><i class="fa fa-external-link"></i><a href="http://howtodoinjava.com" title="HowToDoInJava" target="_blank"]);">HowToDoInJava</a></li>
	
		<li><i class="fa fa-external-link"></i><a href="http://javarevisited.blogspot.com/" title="javarevisited" target="_blank"]);">javarevisited</a></li>
	
		<li><i class="fa fa-external-link"></i><a href="http://www.mkyong.com/" title="mkyong" target="_blank"]);">mkyong</a></li>
	
		<li><i class="fa fa-external-link"></i><a href="http://www.journaldev.com/" title="journaldev" target="_blank"]);">journaldev</a></li>
	
	</ul>
</div>


		
			<div class="widget">
	<h4 style="font-weight: bold; color: #333;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif">recent_comments</h4>
	<ul class="ds-recent-comments" data-num-items="5" data-show-avatars="1" data-show-time="0" data-show-admin="1" data-excerpt-length="100" ></ul>
	
	<script type="text/javascript">
	    var duoshuoQuery = { short_name: 'zhengdehua' };
	    (function() {
	    var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>

</div>



		
			<section id="recent-visitors" class="widget widget_recent_comments">
	<h4 style="font-weight: bold; color: #333;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif">recent_visitors</h4>
  	<div class="panelbody clearfix"><ul class="ds-recent-visitors" data-num-items="30"></ul></div>
</section>
		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2016 zhengdehua
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
